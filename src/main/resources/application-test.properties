# Test profile configuration - 환경 변수에서 실제 키 사용 (없으면 더미키)
spring.ai.openai.api-key=${OPENAI_API_KEY:test-key-for-testing-only-not-a-real-key}
spring.ai.openai.speech.api-key=${OPENAI_API_KEY:test-key-for-testing-only-not-a-real-key}

# Redis 비활성화 (테스트에서는 메모리 캐시 사용)
spring.autoconfigure.exclude=org.springframework.boot.autoconfigure.data.redis.RedisAutoConfiguration

# AWS 서비스 비활성화
aws.s3.access-key=test-key
aws.s3.secret-key=test-key

# FCM 활성화 (실제 사용시 자격증명 파일 필요)
fcm.enabled=${FCM_ENABLED:false}
fcm.credentials-path=${FCM_CREDENTIALS_PATH:}

# Google Vision 활성화 (실제 사용시 자격증명 필요)
google.cloud.vision.enabled=${GOOGLE_VISION_ENABLED:false}
google.cloud.credentials.path=${GOOGLE_CLOUD_CREDENTIALS_PATH:}

# 테스트 데이터베이스 설정 (H2)
spring.datasource.url=jdbc:h2:mem:testdb;MODE=MySQL;DATABASE_TO_LOWER=TRUE;DB_CLOSE_DELAY=-1;DB_CLOSE_ON_EXIT=FALSE
spring.datasource.driver-class-name=org.h2.Driver
spring.datasource.username=sa
spring.datasource.password=

# JPA 설정
spring.jpa.hibernate.ddl-auto=create-drop
spring.jpa.show-sql=false

# JPA Auditing 비활성화 (테스트에서 ClassCastException 방지)
spring.data.jpa.repositories.enabled=true

# Logging 설정
logging.level.org.springframework.ai=DEBUG
logging.level.com.bifai.reminder=DEBUG

# Server 설정 - 웹 서버 강제 활성화
server.port=8080
spring.main.web-application-type=servlet